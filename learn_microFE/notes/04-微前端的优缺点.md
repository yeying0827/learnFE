## 微前端的优缺点

随着功能迭代，应用会变得越来越大，维护成本也会逐渐提高，如果一整个项目的代码都糅合在一起，维护会变得越来越困难。

在这种条件下，越来越复杂的web应用也需要做整体上的结构优化。子应用的切分也是要保证对用户而言，他是一个完整的应用，一个国外对微前端研究较深的web开发人员认为：

> 微前端是一种架构风格，其中独立交付的前端应用程序被组合成一个更大的整体

### 优点

#### 1. 增量升级（影响范围小）

一个好的产品，会在每个阶段进行更新迭代，以满足更多用户的需求、吸引更多的用户，产品的完善、版本的迭代，给开发带来的主要工作就是代码量的增加，某些功能点可能需要对部分代码进行不断的更新。

版本的变化可能简单、也可能复杂，更可能需要不断地重构，以此来优化代码，每一次的优化重构，都可能导致用户使用不流畅，也无法保证每一次的更改不会影响到其他业务。

如果使用的是微前端方案，哪怕是重构，也不会影响到别的业务；如果重构的成本要比重做的成本还高（框架版本升级、性能优化等），即使是重做，基于微前端，也是一个非常安全的方案。

基于微前端做增量升级最大的好处就是不论是对当前的产品进行任何增删改查，都是最方便的，风险低、效率高。

#### 2. 支持多框架（灵活）

市面上的前端框架数不胜数，也各自有优点。

单纯只考虑开发效率，项目体积小，业务逻辑不重，可以选择使用`vue`；如果项目比较复杂，业务逻辑依赖性也比较强，可以考虑使用`react`；如果只是一个活动页、宣传页之类，就也没必要搞一套框架，还要去加载框架资源。

* 合适的方式去实现合适的功能。
* 团队也可以利用掌握不同技术栈的人员，包容性更强。
* 团队可以有更高的抗风险性，如果某个框架因为一些原因不能使用了或者使用上有风险，那么依赖这个框架的应用可能就需要使用其他的框架重新开发。

#### 3. 独立部署（安全）

假设一整个项目，有多个需求迭代在进行，可能存在不同开发人员拉了不同的分支在开发，在合并的时候一旦出现冲突，就可能会耗费比较多的时间成本，还可能在合并后出现问题，导致后上线的需求无法正常上线。或者出现修改A模块的代码影响了B模块，导致整个应用无法正常使用。

将不同模块作为不同的服务独立部署，维护各自的代码，就可以避免因为一个模块出现的问题而导致整个项目无法使用的情况，保证了用户的体验和服务的稳定性，减少开发人员的维护和开发成本。

#### 4. 共享组件库（便捷）

可以把公共的一些功能或者组件通过打包的方式，来减少代码的重复性。

抽离出组件库，以后在其他项目中也可以应用。

#### 5. 团队自治（沟通成本小）

在微前端的方案中，不论a功能还是b功能，他们都是交给不同的独立团队，a团队的产品和开发负责a功能，b团队负责b功能，保证的开发速度，也节约了沟通成本。

职责清晰

#### 6. 技术迭代

可以进行一些新技术的尝试



### 缺点

没有任何一个技术方案是完美的，我们要做的就是在不同的方案面前，去衡量哪种方案是解决当下问题的最好办法

#### 1. 有效的负载变大

每一个功能成为了一个独立的应用，会导致我们的依赖项出现大量的重复，对于用户来说，需要做多次无意义的资源下载，这样其实是不友好的，针对这个问题，目前一种方案是将重复的依赖构建出独立的资源包，但这还是有两个问题：

* 如何划分重复的依赖，a和c同时需要的资源，b可能不需要，花很多的时间去细分每一个依赖包又是非常大的工作量，投入产出比可能很大
* 可能存在依赖的包版本不一样，版本的控制就是需要面对的一个很大的问题，要在同一个公共依赖包里去做所有版本的兼容，不太现实

边界问题

#### 2. 管理的复杂性

业务方面、开发方面等等。

* 业务方面的划分，虽然做到了更多细节的把控，但很容易导致大家的目光只盯在一个点上，对于一整个产品的发展可能不利，很可能讨论的一个很细的问题，对用户而言并不重要，反而忽视了整体的用户体验

* 开发方面，如何去划分一个应用是一个问题，划分的不合理可能还会导致工作量变大，划分后还需要合理规划维护：

  * 代码库的数量增加，是否有更好的办法去维护每一个版本的更新
  * 每个微应用可能都是一个单独的仓库，那么应该如何管理这些为微应用，是否需要一定的规范去约束每一个项目，还是各自发挥？
  * 假如有相同的功能点，有一套独立的微应用组件，这个开发工作应该如何划分，对于组件api的支持应该如何去指定
  * ......

  